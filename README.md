# 🕌 مشغل القرآن الكريم

مشغل قرآن عصري مستوحى من تصميم Spotify، مبني بـ React و Tailwind CSS مع **تزامن دقيق للآيات** كتطبيقات الموسيقى الاحترافية.

![Version](https://img.shields.io/badge/version-2.0-green)
![React](https://img.shields.io/badge/React-18+-blue)
![License](https://img.shields.io/badge/license-MIT-orange)

## ✨ المميزات

### 🎵 الأساسية
- **تشغيل صوتي عالي الجودة** - دعم 5 قراء مشهورين
- **تحكم كامل بالتشغيل** - تشغيل/إيقاف، التالي/السابق، التقديم/الترجيع
- **سرعة التشغيل** - من 0.5x إلى 2x
- **أوضاع التكرار** - تكرار الكل، تكرار واحد، بدون تكرار
- **المفضلة** - احفظ السور المفضلة لديك
- **مكتبة كاملة** - 114 سورة مع بحث سريع

### 🎯 التزامن الدقيق (NEW!)
- ✅ **تزامن آية بآية** - دقة 100% كتطبيقات Spotify/Apple Music
- ✅ **توقيتات حقيقية** - جلب مدة كل آية من ملفات الصوت
- ✅ **Cache ذكي** - حفظ التوقيتات لتجنب إعادة التحميل
- ✅ **مؤشرات حالة** - معرفة نوع التزامن (دقيق/تقديري)
- ✅ **Fallback تلقائي** - يعمل دائماً حتى بدون توقيتات دقيقة

### � التصميم
- **تصميم عصري** - واجهة داكنة مستوحاة من Spotify
- **RTL** - دعم كامل للعربية من اليمين لليسار
- **PWA** - قابل للتثبيت على الجوال والديسكتوب
- **Responsive** - يعمل على جميع الأحجام

## 🎯 القراء المتاحون (دعم التزامن الدقيق ✅)

جميع القراء يدعمون التزامن الدقيق من Qurani.ai:

1. **مشاري راشد العفاسي** 🇰🇼 - ✅ تزامن دقيق (ar.alafasy)
2. **عبد الباسط عبد الصمد** 🇪🇬 - ✅ تزامن دقيق (ar.abdulbasit)
3. **محمود خليل الحصري** 🇪🇬 - ✅ تزامن دقيق (ar.husary)
4. **محمد صديق المنشاوي** �� - ✅ تزامن دقيق (ar.minshawi)
5. **عبد الرحمن السديس** 🇸🇦 - ✅ تزامن دقيق (ar.sudais)

## 🚀 التثبيت والتشغيل

```bash
# تثبيت المكتبات
npm install

# تشغيل المشروع
npm run dev
```

افتح المتصفح على: `http://localhost:5173`

## 📦 البناء للإنتاج

```bash
# بناء المشروع
npm run build

# معاينة النسخة النهائية
npm run preview
```

## 🛠️ التقنيات المستخدمة

- **React 18** - مكتبة واجهة المستخدم
- **Vite** - أداة البناء السريعة
- **Tailwind CSS** - إطار عمل CSS
- **Zustand** - إدارة الحالة
- **Howler.js** - تشغيل الصوت
- **Lucide React** - الأيقونات
- **Vite PWA** - دعم Progressive Web App

## 🎮 كيفية الاستخدام

### 1️⃣ التشغيل الأساسي
1. **اختر سورة** من الصفحة الرئيسية أو المكتبة
2. **اضغط زر التشغيل** - يظهر في شريط التحكم السفلي
3. **تحكم بالتشغيل** - تشغيل/إيقاف، التالي/السابق
4. **اضبط الصوت** - من أيقونة السماعة
5. **غير القارئ** - من زر القارئ في شريط التحكم

### 2️⃣ البحث الذكي 🔍
1. **افتح صفحة البحث الذكي** من الشريط الجانبي (أيقونة ✨)
2. **اكتب سؤالك** - مثل "الصبر والجهاد" أو "قصص الأنبياء"
3. **أو اختر مثال** - 8 أمثلة جاهزة للاستعلامات الشائعة
4. **شاهد النتائج** - مع نسبة الدقة لكل نتيجة
5. **شغّل السورة** - اضغط زر التشغيل في أي نتيجة

### 3️⃣ عارض النص القرآني 📖
1. **أثناء التشغيل** - اضغط أيقونة الكتاب 📖 في شريط التحكم
2. **أو من صفحة "الآن يُشغّل"** - زر "عرض النص القرآني"
3. **شاهد التزامن** - الآية الحالية بخلفية خضراء + تمرير تلقائي
4. **تحقق من الحالة** - ✓ دقيق أو ⚠️ تقديري
5. **أغلق النافذة** - زر X أو اضغط خارج النافذة

### 📊 مؤشرات التزامن

- **✓ تزامن دقيق** (أخضر) - توقيتات دقيقة 100% من Qurani.ai
- **⚠️ تزامن تقديري** (أصفر) - استخدام التقدير الذكي كـ fallback
- **⏳ جاري التحميل...** (رمادي) - يتم تحميل التوقيتات

### 📖 دليل الاختبار المفصل

راجع الوثائق التالية:
- [`QURANI_AI_INTEGRATION.md`](./QURANI_AI_INTEGRATION.md) - شرح Qurani.ai API
- [`QURAN_TEXT_VIEWER.md`](./QURAN_TEXT_VIEWER.md) - شرح عارض النص
- [`FEATURES_COMPLETE.md`](./FEATURES_COMPLETE.md) - الميزات الكاملة

## 📁 هيكل المشروع

```
src/
├── components/              # المكونات القابلة لإعادة الاستخدام
│   ├── Player/             # مكونات المشغل
│   │   ├── PlayerBarSimple.jsx    # شريط التحكم
│   │   └── ReciterSelector.jsx    # اختيار القارئ
│   └── Sidebar/            # الشريط الجانبي
├── pages/                  # الصفحات الرئيسية
│   ├── Home.jsx           # الصفحة الرئيسية
│   ├── Library.jsx        # المكتبة
│   ├── Favorites.jsx      # المفضلة
│   ├── NowPlaying.jsx     # الآن يُشغَّل
│   └── Settings.jsx       # الإعدادات
├── services/               # خدمات التطبيق
│   ├── audioPlayer.js     # خدمة تشغيل الصوت (Howler.js)
│   ├── quranAPI.js        # واجهة برمجة القرآن (mp3quran.net)
│   └── quranaiAPI.js      # Qurani.ai API (8 وظائف) 🆕
├── store/                  # إدارة الحالة
│   └── playerStore.js     # حالة المشغل (Zustand)
├── data/                   # البيانات الثابتة
│   ├── surahs.json        # بيانات السور
│   └── reciters.json      # بيانات القراء
└── styles/                 # الأنماط
    └── globals.css        # الأنماط العامة
```

## 📚 التوثيق

### وثائق الميزات الجديدة 🆕
- [`QURANI_AI_INTEGRATION.md`](./QURANI_AI_INTEGRATION.md) - شرح تكامل Qurani.ai API
- [`QURAN_TEXT_VIEWER.md`](./QURAN_TEXT_VIEWER.md) - دليل عارض النص القرآني
- [`FEATURES_COMPLETE.md`](./FEATURES_COMPLETE.md) - الميزات الكاملة (Feature 1 & 2)
- [`SMOOTH_ANIMATIONS.md`](./SMOOTH_ANIMATIONS.md) - نظام الحركات السلسة
- [`AUDIO_SOURCES.md`](./AUDIO_SOURCES.md) - مصادر الملفات الصوتية والتوقيتات 🆕

### وثائق المشروع
- [`.github/copilot-instructions.md`](./.github/copilot-instructions.md) - تعليمات الـ AI
- [`README.md`](./README.md) - هذا الملف

## 🔮 المميزات القادمة

- [ ] وضع Offline - تحميل السور
- [ ] قوائم التشغيل المخصصة
- [ ] عرض الترجمة (إنجليزي، فرنسي، إلخ)
- [ ] اختصارات لوحة المفاتيح
- [ ] وضع ليلي/نهاري
- [ ] دعم اللغة الإنجليزية
- [ ] حفظ التوقيتات في localStorage (تحسين الأداء)
- [ ] تحميل مسبق للسورة التالية
- [ ] تزامن كلمة بكلمة (متقدم)

## 📄 الترخيص

MIT License - يمكنك استخدام المشروع بحرية

---

**تم البناء بـ ❤️ لخدمة كتاب الله**

